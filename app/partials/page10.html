<!--partial-->
<script type="text/javascript">
//runJQuery is called in the angular app after this view partial loads.
function runJQuery(){
		var clickAnywhereToClose = false;
		
		var tl = new TimelineLite ();
			tl.add (TweenLite.set(".page10 #stay-connected", {y:0, x:-300}));
			tl.to(".page10 .headline h1", 1, {autoAlpha:1, delay:1})
			  .to(".page10 .headline p", 1, {autoAlpha:1, delay:.2}, "-=.7")
			  .to(".page10 #stay-connected", .7, {x:0, y:0, autoAlpha:1, ease:Power3.easeOut}, "-=.7");

					$('.page10 button.one').on('click', function () {
						$(this).find("#circle-one")[ 0 ].setAttribute('stroke', 'rgb(118,195,212)');
						$(this).find("#circle-two")[ 0 ].setAttribute('stroke', 'rgb(118,195,212)');
						$(this).find("#circle-plus")[ 0 ].setAttribute('fill', 'rgb(118,195,212)');
						$(document).off('click');//remove the event listener if it's already there
						clickAnywhereToClose = true;
						$('.page10 #clicktext1').fadeIn( "fast", "linear", function() {
							setUpClose('.page10 button.two', this)
						});	
						$('.page10 #clicktext2').fadeOut("fast", "linear");
					});

						$('.page10 button.two').on('click', function () {
							$(this).find("#circle-one")[ 0 ].setAttribute('stroke', 'rgb(118,195,212)');
							$(this).find("#circle-two")[ 0 ].setAttribute('stroke', 'rgb(118,195,212)');
							$(this).find("#circle-plus")[ 0 ].setAttribute('fill', 'rgb(118,195,212)');
							$(document).off('click');//remove the event listener if it's already there
							clickAnywhereToClose = true;
							$('.page10 #clicktext2').fadeIn( "fast", "linear", function() {
								setUpClose('.page10 button.one', this)
							});	
							$('.page10 #clicktext1').fadeOut("fast", "linear");
						});
				
							function setUpClose(exceptionCase, obj)
							{ 	
								//exceptionCase == other buttons we want to keep listening to
								$(document).on('click', function(event) {
									if (  clickAnywhereToClose && !$(event.target).closest(exceptionCase).length ) {
										$(obj).fadeOut("fast", "linear");
										clickAnywhereToClose = false;
									}
									$('.view-container svg #circle-one').each(function( index ) {
										  $( this )[0].setAttribute('stroke', 'rgb(255,255,255)');
									});
									$('.view-container svg #circle-two').each(function( index ) {
										  $( this )[0].setAttribute('stroke', 'rgb(255,255,255)');
									});
									$('.view-container svg #circle-plus').each(function( index ) {
										  $( this )[0].setAttribute('fill', 'rgb(255,255,255)');
									});
							
								})
							}
				
};

</script>

<div class="page10 page-container">
	
<div class="headline">
    <h1 class="amatic pantone166">Strong Family Ties</h1>
	<p>Families are as close as a click away. At Aegis, we are happy to assist our residents with Skype to bring loved ones face-to-face. </p>
</div>

<img id="stay-connected" src="img/page_10_arrow.png" alt="Stay connected">

<div id="vid-wrap">
<div id="videobox" ng-click="doYoutube('4H_GOu5vW68')"><img id="video-play" src="img/page_03_play.png" alt="play"></div>
</div>

<button class="one"><div id="clickme1"><ng-include src="addSVG()"></ng-include></div></button>
<div id="clicktext1">
<h4 class="pantone633 cantarell bold">Put Us on Your Calendar</h4>
<p>Throughout the year, communities will plan family dinners, holiday events, live music, happy hour, ice cream socials and outings to encourage family members to participate at the community and meet the other families living there.</p>
</div>

<button class="two"><div id="clickme2"><ng-include src="addSVG()"></ng-include></div></button>
<div id="clicktext2">
<h4 class="pantone633 cantarell bold">The Most Meaningful Visits</h4>
<p>You are always welcome to join us at Aegis. Family and friends are the heart of any home. Share your photos, favorite recipes, or tell us your family stories â€“ knowing details about our residents helps us do our jobs even better! </p>
</div>
	
</div>

